(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{UBNw:function(e,t,n){"use strict";n.r(t),n.d(t,"WorkbenchModule",function(){return Te});var i=n("tyNb"),c=n("PI8n"),o=n("fXoL"),a=n("tKpx"),r=n("B+r4"),l=n("ofXK"),b=n("bE2y"),s=n("3Pt+"),d=n("sLVC"),m=n("4hBO"),u=n("C2AL"),p=n("PTRe"),h=n("FwiY"),g=n("Q8cG"),f=n("TaO5"),z=n("OzZK"),V=n("rMZv"),C=n("ZyQt");let W=(()=>{class e{transform(e,t,n){if(!e)return[];let i=e;if(t){let n=t.toLowerCase();i=e.filter(e=>{let t=!1;return t=e.areaName&&e.areaName.toLowerCase().indexOf(n)>=0||e.controllerName&&e.controllerName.toLowerCase().indexOf(n)>=0||e.summary&&e.summary.toLowerCase().indexOf(n)>=0||e.actionList.filter(e=>e.actionName.toLowerCase().indexOf(n)>=0||e.summary&&e.summary.toLowerCase().indexOf(n)>=0).length>0,t})}return i.length>0&&n&&n.length>0&&(i=i.filter(e=>n.filter(t=>t.areaName==e.areaName).length>0)),i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Pb({name:"controllerFilter",type:e,pure:!0}),e})();function y(e,t){1&e&&o.Rb(0,"i",26)}function S(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",30),o.Wb(1,"label",36),o.dc("ngModelChange",function(e){return t.$implicit.isSelected=e})("ngModelChange",function(){o.yc(e);const n=t.$implicit;return o.gc(3).areaSelectChange(n)}),o.Ic(2),o.Vb(),o.Vb()}if(2&e){const e=t.$implicit,n=t.index;o.Cb(1),o.Fb("",n>1?"mt5":""," cursor-Hand"),o.oc("ngModel",e.isSelected),o.Cb(1),o.Kc(" ",e.displayName,"")}}function I(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div"),o.Wb(1,"div",27),o.Wb(2,"div",28),o.Wb(3,"div",29),o.Wb(4,"div",30),o.Wb(5,"label",31),o.Ic(6,"Areas"),o.Vb(),o.Vb(),o.Wb(7,"div",32),o.Wb(8,"label",33),o.dc("ngModelChange",function(t){return o.yc(e),o.gc(2).isAllAreaSelected=t})("ngModelChange",function(){return o.yc(e),o.gc(2).allSelectAreaChange()}),o.Ic(9,"All"),o.Vb(),o.Vb(),o.Vb(),o.Wb(10,"div",34),o.Gc(11,S,3,5,"div",35),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.gc(2);o.Cb(8),o.oc("ngModel",e.isAllAreaSelected)("nzIndeterminate",e.isAreaSelectIndeterminate),o.Cb(3),o.oc("ngForOf",e.areaList)}}function v(e,t){if(1&e){const e=o.Xb();o.Wb(0,"li",37),o.dc("click",function(){return o.yc(e),o.gc(2).displayAll()}),o.Ic(1,"Display All "),o.Vb()}if(2&e){const e=o.gc(2);o.oc("nzSelected",e.isDisplayAllMenuSelected)}}function w(e,t){if(1&e){const e=o.Xb();o.Wb(0,"li",38),o.Wb(1,"a",39),o.dc("click",function(){o.yc(e);const n=t.$implicit;return o.gc(2).onSelectController(n)}),o.Ic(2),o.Wb(3,"span",40),o.Ic(4),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=t.$implicit;o.oc("nzSelected",e.isSelected),o.Cb(2),o.Kc(" ",e.controllerName," "),o.Cb(2),o.Jc(e.summary)}}function P(e,t){if(1&e){const e=o.Xb();o.Wb(0,"nz-affix"),o.Wb(1,"div",12),o.Wb(2,"div",0),o.Wb(3,"div",13),o.Wb(4,"nz-input-group",14),o.Wb(5,"input",15),o.dc("ngModelChange",function(t){return o.yc(e),o.gc().searchText=t}),o.Vb(),o.Vb(),o.Gc(6,y,1,0,"ng-template",null,16,o.Hc),o.Vb(),o.Wb(8,"div",17),o.Wb(9,"a",18),o.dc("click",function(){o.yc(e);const t=o.gc();return t.showAreaFilter=!t.showAreaFilter}),o.Rb(10,"i",19),o.Vb(),o.Wb(11,"a",20),o.dc("click",function(){return o.yc(e),o.gc().refreshControllerList()}),o.Rb(12,"i",21),o.Vb(),o.Vb(),o.Vb(),o.Gc(13,I,12,3,"div",3),o.Vb(),o.Wb(14,"section",22),o.Wb(15,"ul",23),o.Gc(16,v,2,1,"li",24),o.Gc(17,w,5,3,"li",25),o.hc(18,"controllerFilter"),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.xc(7),t=o.gc();o.Cb(4),o.oc("nzSuffix",e),o.Cb(1),o.oc("ngModel",t.searchText),o.Cb(8),o.oc("ngIf",t.showAreaFilter),o.Cb(3),o.oc("ngIf",(null==t.controllerList?null:t.controllerList.length)>0&&!t.searchText&&!t.isAreaSelectIndeterminate),o.Cb(1),o.oc("ngForOf",o.kc(18,5,t.controllerList,t.searchText,t.selectedArea))}}function M(e,t){if(1&e&&(o.Wb(0,"span"),o.Wb(1,"nz-tag",54),o.Ic(2),o.hc(3,"lowercase"),o.Vb(),o.Vb()),2&e){const e=t.$implicit,n=t.index,i=o.gc(2);o.Cb(1),o.oc("nzColor",n<i.tagcolor.length-1?i.tagcolor[n]:i.tagcolor[0]),o.Cb(1),o.Kc(" ",o.ic(3,2,e.name)," ")}}function T(e,t){if(1&e&&(o.Wb(0,"label",55),o.Ic(1),o.Vb()),2&e){const e=o.gc().$implicit;o.Cb(1),o.Kc(" ",e.summary,"")}}function L(e,t){if(1&e&&(o.Wb(0,"div",12),o.Wb(1,"nz-tag",54),o.Ic(2),o.hc(3,"lowercase"),o.Vb(),o.Vb()),2&e){const e=t.$implicit,n=t.index,i=o.gc(3);o.Cb(1),o.oc("nzColor",n<i.tagcolor.length-1?i.tagcolor[n]:i.tagcolor[0]),o.Cb(1),o.Kc(" ",o.ic(3,2,e.name)," ")}}function k(e,t){if(1&e&&(o.Wb(0,"tr"),o.Wb(1,"td"),o.Wb(2,"a",56),o.Ic(3),o.Vb(),o.Vb(),o.Wb(4,"td"),o.Gc(5,L,4,4,"div",57),o.Vb(),o.Wb(6,"td"),o.Ic(7),o.Vb(),o.Vb()),2&e){const e=t.$implicit;o.Cb(2),o.qc("routerLink","/workbench/action/",e.id,""),o.Cb(1),o.Kc(" ",(e.areaName?e.areaName+"/":"")+e.controllerName+"/"+e.actionName," "),o.Cb(2),o.oc("ngForOf",e.customerAttrList),o.Cb(2),o.Jc(e.summary)}}function F(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"div",41),o.Wb(2,"div",42),o.Wb(3,"div",43),o.Wb(4,"h2",44),o.Ic(5),o.Vb(),o.Wb(6,"label",45),o.Gc(7,M,4,4,"span",10),o.Vb(),o.Vb(),o.Wb(8,"div",46),o.Gc(9,T,2,1,"label",47),o.Wb(10,"a",48),o.Ic(11,"View Ts"),o.Vb(),o.Vb(),o.Vb(),o.Wb(12,"div",49),o.Wb(13,"nz-table",50,51),o.Wb(15,"thead"),o.Wb(16,"tr"),o.Wb(17,"th",52),o.Ic(18,"API"),o.Vb(),o.Wb(19,"th",53),o.Ic(20,"Attr"),o.Vb(),o.Wb(21,"th"),o.Ic(22,"Summary"),o.Vb(),o.Vb(),o.Vb(),o.Wb(23,"tbody"),o.Gc(24,k,8,4,"tr",10),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=t.$implicit,n=o.xc(14),i=o.gc();o.Cb(5),o.Jc(e.controllerName),o.Cb(2),o.oc("ngForOf",e.customerAttrList),o.Cb(2),o.oc("ngIf",e.summary),o.Cb(1),o.qc("routerLink","/workbench/tsviewer/controller/",e.id,""),o.Cb(3),o.oc("nzShowPagination",!1)("nzSize",i.actionTableSize)("nzPageSize",1e3)("nzData",e.actionList),o.Cb(11),o.oc("ngForOf",n.data)}}let x=(()=>{class e{constructor(e){this.apiSvc=e,this.showControllerList=!0,this.isDisplayAllMenuSelected=!0,this.tagcolor=["cyan","geekblue","blue","purple"],this.actionTableSize="middle",this.searchText="",this.controllerList=[],this.selectedController=[],this.areaList=[],this.selectedArea=[],this.showAreaFilter=!1,this.isAllAreaSelected=!1,this.isAreaSelectIndeterminate=!1,this.onReuseFlag=!1;let t=localStorage.getItem("actionTableSize");this.actionTableSize=t||"middle"}ngOnInit(){this.initControllerList()}_onReuseInit(){this.onReuseFlag?(this.showControllerList=!1,setTimeout(()=>{this.showControllerList=!0},1),this.onReuseFlag=!1):this.onReuseFlag=!0}_onReuseDestroy(){}initControllerList(){this.searchText="",this.isDisplayAllMenuSelected=!1,this.controllerList=[],this.apiSvc.getControllerList().subscribe(e=>{this.controllerList=e,this.initAreaList(),this.displayAll()})}initAreaList(){this.areaList=[],this.selectedArea=[],this.controllerList&&(this.controllerList.forEach(e=>{this.areaList.filter(t=>t.areaName==e.areaName).length<=0&&this.areaList.push({areaName:e.areaName,displayName:e.areaName?e.areaName:"None",isSelected:!1})}),this.areaList.sort((e,t)=>{let n=0;return e.areaName!=t.areaName&&(n=e.areaName>=t.areaName?1:-1),n}))}allSelectAreaChange(){this.areaList.forEach(e=>{e.isSelected=this.isAllAreaSelected}),this.selectedArea=this.areaList.filter(e=>e.isSelected)}areaSelectChange(e){this.areaList.filter(e=>!e.isSelected).length<=0?(this.isAllAreaSelected=!0,this.isAreaSelectIndeterminate=!1):this.areaList.filter(e=>e.isSelected).length<=0?(this.isAllAreaSelected=!1,this.isAreaSelectIndeterminate=!1):this.isAreaSelectIndeterminate=!0,this.selectedArea=this.areaList.filter(e=>e.isSelected)}refreshControllerList(){this.initControllerList()}onSelectController(e){this.selectedController=[],this.selectedController.push(e),console.log(e),this.controllerList.forEach(t=>{t.isSelected=t==e}),this.isDisplayAllMenuSelected=!1}displayAll(){this.selectedController=this.controllerList,this.isDisplayAllMenuSelected=!0,this.controllerList.forEach(e=>{e.isSelected=!1})}actionTableSizeChanged(){localStorage.setItem("actionTableSize",this.actionTableSize)}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(a.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-workbench"]],decls:16,vars:3,consts:[["nz-row",""],["nz-col","","nzSpan","5",1,"p5"],[1,"main-menu"],[4,"ngIf"],["nz-col","","nzSpan","19",2,"width","calc(100% - 280px)"],[1,"p20",2,"min-height","calc( 100vh - 100px )"],[1,"pull-right","mrp18"],[3,"ngModel","ngModelChange"],["nz-radio","","nzValue","middle"],["nz-radio","","nzValue","small"],[4,"ngFor","ngForOf"],[1,"pb20"],[1,"mt5"],["nz-col","","nzSpan","18"],["nzSize","small",3,"nzSuffix"],["placeholder","Search","nz-input","",3,"ngModel","ngModelChange"],["suffixIcon",""],["nz-col","","nzSpan","4",1,"lh24"],["title","Area Filter",1,"ml5",3,"click"],["nz-icon","","nzType","appstore","nzTheme","outline"],["title","Refresh",1,"ml5",3,"click"],["nz-icon","","nzType","sync","nzTheme","outline"],[1,"main-menu-inner"],["nz-menu","","nzMode","inline"],["nz-menu-item","",3,"nzSelected","click",4,"ngIf"],["nz-menu-item","",3,"nzSelected",4,"ngFor","ngForOf"],["nz-icon","","nzType","search"],[1,"mt3"],[1,"mt3","p10","border-lightgray","border-radius"],["nz-row","",1,"border-bottom","pb10"],["nz-col","","nzSpan","12"],[1,"fw600","f-size16"],["nz-col","","nzSpan","12",1,"lh24"],["nz-checkbox","",3,"ngModel","nzIndeterminate","ngModelChange"],["nz-row","",1,"mt5"],["nz-col","","nzSpan","12",4,"ngFor","ngForOf"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nz-menu-item","",3,"nzSelected","click"],["nz-menu-item","",3,"nzSelected"],[1,"overxhiden",3,"click"],[1,"ml8","f-size12",2,"color","#a5a5a5"],[1,"p10","mt10"],[1,"pl10"],[1,"vcenter"],[1,"lineblock",2,"font-size","26px"],[1,"ml40",2,"vertical-align","text-bottom"],[1,"wp90","lh24"],["class","f-size12","style","max-width: 80%;",4,"ngIf"],["nz-button","","nzType","primary","nzSize","small","nzGhost","",1,"pull-right","mr20","w80",3,"routerLink"],[1,"wp90","mt5"],[3,"nzShowPagination","nzSize","nzPageSize","nzData"],["actionTable",""],[1,"wp33"],[1,"wp15"],[3,"nzColor"],[1,"f-size12",2,"max-width","80%"],[3,"routerLink"],["class","mt5",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(o.Wb(0,"div"),o.Wb(1,"div",0),o.Wb(2,"div",1),o.Wb(3,"div",2),o.Gc(4,P,19,9,"nz-affix",3),o.Vb(),o.Vb(),o.Wb(5,"div",4),o.Wb(6,"div",5),o.Wb(7,"div",6),o.Wb(8,"nz-radio-group",7),o.dc("ngModelChange",function(e){return t.actionTableSize=e})("ngModelChange",function(){return t.actionTableSizeChanged()}),o.Wb(9,"label",8),o.Ic(10,"Large"),o.Vb(),o.Wb(11,"label",9),o.Ic(12,"Small"),o.Vb(),o.Vb(),o.Vb(),o.Gc(13,F,25,9,"div",10),o.Vb(),o.Wb(14,"div",11),o.Rb(15,"layout-footer"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Cb(4),o.oc("ngIf",t.showControllerList),o.Cb(4),o.oc("ngModel",t.actionTableSize),o.Cb(5),o.oc("ngForOf",t.selectedController))},directives:[r.c,r.a,l.o,b.c,s.j,s.k,b.b,l.n,d.a,m.a,u.a,p.c,p.d,p.b,s.d,h.a,g.c,f.a,g.d,z.a,i.h,V.b,V.g,V.h,V.a,V.f,V.d,C.a],pipes:[W,l.l],styles:[".ant-menu-inline[_ngcontent-%COMP%] > .ant-menu-item[_ngcontent-%COMP%], .ant-menu-inline[_ngcontent-%COMP%] > .ant-menu-submenu[_ngcontent-%COMP%] > .ant-menu-submenu-title[_ngcontent-%COMP%], .ant-menu-vertical-left[_ngcontent-%COMP%] > .ant-menu-item[_ngcontent-%COMP%], .ant-menu-vertical-left[_ngcontent-%COMP%] > .ant-menu-submenu[_ngcontent-%COMP%] > .ant-menu-submenu-title[_ngcontent-%COMP%], .ant-menu-vertical-right[_ngcontent-%COMP%] > .ant-menu-item[_ngcontent-%COMP%], .ant-menu-vertical-right[_ngcontent-%COMP%] > .ant-menu-submenu[_ngcontent-%COMP%] > .ant-menu-submenu-title[_ngcontent-%COMP%], .ant-menu-vertical[_ngcontent-%COMP%] > .ant-menu-submenu[_ngcontent-%COMP%] > .ant-menu-submenu-title[_ngcontent-%COMP%],   .ant-menu-vertical>.ant-menu-item{height:35px;line-height:35px;min-height:35px;padding:0 10px!important}.main-menu-inner[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden;max-height:calc(100vh - 100px)}.main-menu[_ngcontent-%COMP%]:hover   .main-menu-inner[_ngcontent-%COMP%]{overflow-y:auto}"]}),e})();var O=n("bhqs"),N=n("G2dG");function G(e,t){if(1&e&&(o.Wb(0,"span"),o.Wb(1,"nz-tag",18),o.Ic(2),o.hc(3,"lowercase"),o.Vb(),o.Vb()),2&e){const e=t.$implicit,n=t.index,i=o.gc(2);o.Cb(1),o.oc("nzColor",n<i.tagcolor.length-1?i.tagcolor[n]:i.tagcolor[0]),o.Cb(1),o.Kc(" ",o.ic(3,2,e.name)," ")}}function A(e,t){if(1&e&&(o.Wb(0,"div",19),o.Wb(1,"label",20),o.Ic(2),o.Vb(),o.Vb()),2&e){const e=o.gc(2);o.Cb(2),o.Jc(e.action.summary)}}function R(e,t){if(1&e&&(o.Wb(0,"span"),o.Wb(1,"span"),o.Ic(2),o.Vb(),o.Ic(3," : "),o.Wb(4,"a",24),o.Ic(5),o.Vb(),o.Wb(6,"span",25),o.Ic(7),o.Vb(),o.Vb()),2&e){const e=o.gc().$implicit;o.Cb(2),o.Jc(e.name),o.Cb(2),o.qc("routerLink","/workbench/ptype/",e.isIEnumerable?e.enumItemId:e.typeId,""),o.Cb(1),o.Jc(e.typeName),o.Cb(2),o.Jc(e.summary)}}function J(e,t){if(1&e&&(o.Wb(0,"label",23),o.Gc(1,R,8,4,"span",1),o.Vb()),2&e){const e=t.$implicit;o.Cb(1),o.oc("ngIf",e.hasPiList)}}function D(e,t){if(1&e&&(o.Wb(0,"div",21),o.Gc(1,J,2,1,"label",22),o.Vb()),2&e){const e=o.gc(2);o.Cb(1),o.oc("ngForOf",e.action.inputParameters)}}function $(e,t){1&e&&(o.Wb(0,"label",26),o.Ic(1,"(none)"),o.Vb())}function E(e,t){if(1&e&&(o.Wb(0,"span"),o.Ic(1),o.Vb()),2&e){const e=o.gc().$implicit;o.Cb(1),o.Jc(e.typeName)}}function _(e,t){if(1&e&&(o.Wb(0,"a",24),o.Ic(1),o.Vb()),2&e){const e=o.gc().$implicit;o.qc("routerLink","/workbench/ptype/",e.isIEnumerable?e.enumItemId:e.typeId,""),o.Cb(1),o.Jc(e.typeName)}}function Q(e,t){if(1&e&&(o.Wb(0,"tr"),o.Wb(1,"td"),o.Wb(2,"span"),o.Ic(3),o.Vb(),o.Vb(),o.Wb(4,"td"),o.Wb(5,"span"),o.Ic(6),o.Vb(),o.Vb(),o.Wb(7,"td"),o.Gc(8,E,2,1,"span",1),o.Gc(9,_,2,2,"a",32),o.Vb(),o.Wb(10,"td"),o.Ic(11),o.Vb(),o.Rb(12,"td"),o.Vb()),2&e){const e=t.$implicit;o.Cb(3),o.Jc(e.name),o.Cb(3),o.Jc(e.summary),o.Cb(2),o.oc("ngIf",!e.hasPiList),o.Cb(1),o.oc("ngIf",e.hasPiList),o.Cb(2),o.Jc(e.defaultValue)}}function K(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"nz-table",27,28),o.Wb(3,"thead"),o.Wb(4,"tr"),o.Wb(5,"th",29),o.Ic(6,"Name"),o.Vb(),o.Wb(7,"th",30),o.Ic(8,"Summary"),o.Vb(),o.Wb(9,"th",29),o.Ic(10,"Type"),o.Vb(),o.Wb(11,"th",31),o.Ic(12,"Default"),o.Vb(),o.Rb(13,"th"),o.Vb(),o.Vb(),o.Wb(14,"tbody"),o.Gc(15,Q,13,5,"tr",7),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.xc(2),t=o.gc(2);o.Cb(1),o.oc("nzShowPagination",!1)("nzPageSize",1e3)("nzData",t.inputParams),o.Cb(4),o.oc("nzShowSort",!0)("nzSortFn",t.nameSortFn),o.Cb(4),o.oc("nzShowSort",!0)("nzSortFn",t.typeSortFn),o.Cb(6),o.oc("ngForOf",e.data)}}function X(e,t){if(1&e&&(o.Wb(0,"span"),o.Ic(1),o.Vb()),2&e){const e=o.gc().$implicit;o.Cb(1),o.Jc(e.typeName)}}function q(e,t){if(1&e&&(o.Wb(0,"a",24),o.Ic(1),o.Vb()),2&e){const e=o.gc().$implicit;o.qc("routerLink","/workbench/ptype/",e.isIEnumerable?e.enumItemId:e.typeId,""),o.Cb(1),o.Jc(e.typeName)}}function H(e,t){if(1&e&&(o.Wb(0,"tr"),o.Wb(1,"td"),o.Wb(2,"span"),o.Ic(3),o.Vb(),o.Vb(),o.Wb(4,"td"),o.Wb(5,"span"),o.Ic(6),o.Vb(),o.Vb(),o.Wb(7,"td"),o.Gc(8,X,2,1,"span",1),o.Gc(9,q,2,2,"a",32),o.Vb(),o.Rb(10,"td"),o.Vb()),2&e){const e=t.$implicit;o.Cb(3),o.Jc(e.name),o.Cb(3),o.Jc(e.summary),o.Cb(2),o.oc("ngIf",!e.hasPiList),o.Cb(1),o.oc("ngIf",e.hasPiList)}}function B(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"div",13),o.Wb(2,"label",14),o.Ic(3,"ReturnParamters"),o.Vb(),o.Wb(4,"div",33),o.Wb(5,"a",24),o.Ic(6),o.Vb(),o.Wb(7,"span",25),o.Ic(8),o.Vb(),o.Vb(),o.Vb(),o.Wb(9,"div"),o.Wb(10,"nz-table",27,34),o.Wb(12,"thead"),o.Wb(13,"tr"),o.Wb(14,"th",29),o.Ic(15,"Name"),o.Vb(),o.Wb(16,"th",30),o.Ic(17,"Summary"),o.Vb(),o.Wb(18,"th",29),o.Ic(19,"Type"),o.Vb(),o.Rb(20,"th"),o.Vb(),o.Vb(),o.Wb(21,"tbody"),o.Gc(22,H,11,4,"tr",7),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.xc(11),t=o.gc(2);o.Cb(5),o.qc("routerLink","/workbench/ptype/",t.action.returnParameter.typeId,""),o.Cb(1),o.Jc(t.action.returnParameter.typeName),o.Cb(2),o.Jc(t.action.returnParameter.summary),o.Cb(2),o.oc("nzShowPagination",!1)("nzPageSize",1e3)("nzData",t.returnParams),o.Cb(4),o.oc("nzShowSort",!0)("nzSortFn",t.nameSortFn),o.Cb(4),o.oc("nzShowSort",!0)("nzSortFn",t.typeSortFn),o.Cb(4),o.oc("ngForOf",e.data)}}function j(e,t){1&e&&(o.Wb(0,"label",40),o.Ic(1,"(none)"),o.Vb())}function U(e,t){if(1&e&&(o.Wb(0,"span"),o.Ic(1),o.Vb()),2&e){const e=o.gc().$implicit;o.Cb(1),o.Jc(e.typeName)}}function Z(e,t){if(1&e&&(o.Wb(0,"a"),o.Ic(1),o.Vb()),2&e){const e=o.gc().$implicit;o.Cb(1),o.Jc(e.typeName)}}function Y(e,t){if(1&e&&(o.Wb(0,"tr"),o.Wb(1,"td"),o.Gc(2,U,2,1,"span",1),o.Gc(3,Z,2,1,"a",1),o.Vb(),o.Wb(4,"td"),o.Wb(5,"span"),o.Ic(6),o.Vb(),o.Vb(),o.Rb(7,"td"),o.Vb()),2&e){const e=t.$implicit;o.Cb(2),o.oc("ngIf",!e.hasPiList),o.Cb(1),o.oc("ngIf",e.hasPiList),o.Cb(3),o.Jc(e.summary)}}function ee(e,t){if(1&e&&(o.Wb(0,"div",35),o.Wb(1,"div",36),o.Wb(2,"label",37),o.Ic(3,"ReturnParamters"),o.Vb(),o.Gc(4,j,2,0,"label",38),o.Vb(),o.Wb(5,"div"),o.Wb(6,"nz-table",39,34),o.Wb(8,"thead"),o.Wb(9,"tr"),o.Wb(10,"th",31),o.Ic(11,"Type"),o.Vb(),o.Wb(12,"th",30),o.Ic(13,"Summary"),o.Vb(),o.Rb(14,"th"),o.Vb(),o.Vb(),o.Wb(15,"tbody"),o.Gc(16,Y,8,3,"tr",7),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.xc(7),t=o.gc(2);o.Cb(4),o.oc("ngIf",(null==t.returnParams?null:t.returnParams.length)<=0),o.Cb(2),o.oc("nzShowPagination",!1)("nzData",t.returnParams),o.Cb(10),o.oc("ngForOf",e.data)}}function te(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"div"),o.Wb(2,"div",2),o.Wb(3,"div",3),o.Wb(4,"div",4),o.Wb(5,"label",5),o.Ic(6),o.Vb(),o.Wb(7,"label",6),o.Gc(8,G,4,4,"span",7),o.Vb(),o.Wb(9,"a",8),o.Ic(10,"View Ts"),o.Vb(),o.Vb(),o.Gc(11,A,3,1,"div",9),o.Vb(),o.Wb(12,"div",10),o.Wb(13,"a",11),o.Ic(14,"Return"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(15,"div",12),o.Wb(16,"div"),o.Wb(17,"div"),o.Wb(18,"div",13),o.Wb(19,"label",14),o.Ic(20,"InputParamters"),o.Vb(),o.Gc(21,D,2,1,"div",15),o.Gc(22,$,2,0,"label",16),o.Vb(),o.Gc(23,K,16,8,"div",1),o.Vb(),o.Vb(),o.Wb(24,"div",12),o.Gc(25,B,23,11,"div",1),o.Gc(26,ee,17,4,"div",17),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.gc();o.Cb(6),o.Kc(" ",(e.action.areaName?e.action.areaName+"/":"")+e.action.controllerName+"/"+e.action.actionName," "),o.Cb(2),o.oc("ngForOf",e.action.customerAttrList),o.Cb(1),o.qc("routerLink","/workbench/tsviewer/action/",e.action.id,""),o.Cb(2),o.oc("ngIf",e.action.summary),o.Cb(6),o.Eb((null==e.inputParams?null:e.inputParams.length)>0?"":"border-bottom"),o.Cb(4),o.oc("ngIf",e.inputParams.length>0),o.Cb(1),o.oc("ngIf",e.inputParams.length<=0),o.Cb(1),o.oc("ngIf",e.inputParams.length>0),o.Cb(2),o.oc("ngIf",e.action.returnParameter.hasPiList),o.Cb(1),o.oc("ngIf",!e.action.returnParameter.hasPiList)}}let ne=(()=>{class e{constructor(e,t){this.routerParams=e,this.apiSvc=t,this.tagcolor=["cyan","geekblue","blue","purple"],this.inputParams=[],this.returnParams=[]}ngOnInit(){this.actionId=this.routerParams.snapshot.paramMap.get("actionId"),this.getAction()}getAction(){this.apiSvc.getAction(this.actionId).subscribe(e=>{this.action=e,N.a.setTitle(e.controllerName+"/"+e.actionName+" - Api Helper"),e&&e.inputParameters&&e.inputParameters.forEach(e=>{e.hasPiList&&!e.isEnum?this.apiSvc.getPType(e.typeId).subscribe(e=>{e.piList.forEach(e=>{this.inputParams.filter(t=>t.name==e.name).length<=0&&this.inputParams.push(e)})}):this.inputParams.push(e)}),e&&e.returnParameter&&(e.returnParameter.hasPiList&&!e.returnParameter.isEnum?this.apiSvc.getPType(e.returnParameter.typeId).subscribe(e=>{this.returnParams=e.piList}):this.returnParams.push(e.returnParameter))})}nameSortFn(e,t,n){return e.name.localeCompare(t.name)}typeSortFn(e,t,n){return e.typeName.localeCompare(t.typeName)}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(i.a),o.Qb(a.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-action"]],decls:2,vars:1,consts:[[2,"padding","20px 80px"],[4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","20"],[1,"lh40"],[1,"f-size30"],[1,"ml40"],[4,"ngFor","ngForOf"],["nz-button","","nzType","primary","nzSize","small","nzGhost","",1,"ml50","w80",3,"routerLink"],["class","mt10",4,"ngIf"],["nz-col","","nzSpan","4",1,"h60","lh60","valign-bottom"],["nz-button","","nzType","primary","nzSize","small","nzGhost","","routerLink","/workbench/index",1,"ml50","w80"],[1,"mt30"],[1,"p10"],[1,"f-size18","fw500"],["class","mt5",4,"ngIf"],["class","ml5 f-size18",4,"ngIf"],["class","border-bottom",4,"ngIf"],[3,"nzColor"],[1,"mt10"],[1,"f-size16"],[1,"mt5"],["class","f-size14",4,"ngFor","ngForOf"],[1,"f-size14"],[3,"routerLink"],[1,"ml20"],[1,"ml5","f-size18"],["nzSize","small",3,"nzShowPagination","nzPageSize","nzData"],["inputParamsTable",""],[1,"w240",3,"nzShowSort","nzSortFn"],[1,"wp30"],[1,"w240"],[3,"routerLink",4,"ngIf"],[1,"mt5","f-size14"],["returnParamsTable",""],[1,"border-bottom"],[1,"p10","f-size18"],[1,"fw500"],["class","ml5",4,"ngIf"],["nzSize","small",3,"nzShowPagination","nzData"],[1,"ml5"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Gc(1,te,27,12,"div",1),o.Vb()),2&e&&(o.Cb(1),o.oc("ngIf",t.action))},directives:[l.o,r.c,r.a,l.n,z.a,i.h,u.a,C.a,V.b,V.g,V.h,V.a,V.f,V.e,V.d],pipes:[l.l],styles:[""]}),e})();function ie(e,t){if(1&e&&(o.Wb(0,"div",17),o.Wb(1,"label",18),o.Ic(2),o.Vb(),o.Vb()),2&e){const e=o.gc(2);o.Cb(2),o.Jc(e.ptype.summary)}}function ce(e,t){if(1&e&&(o.Wb(0,"th",13),o.Ic(1,"Value"),o.Vb()),2&e){const e=o.gc(2);o.oc("nzShowSort",!0)("nzSortFn",e.valueSortFn)}}function oe(e,t){if(1&e&&(o.Wb(0,"th",13),o.Ic(1,"Type"),o.Vb()),2&e){const e=o.gc(2);o.oc("nzShowSort",!0)("nzSortFn",e.typeSortFn)}}function ae(e,t){if(1&e&&(o.Wb(0,"td",20),o.Ic(1),o.Vb()),2&e){const e=o.gc().$implicit;o.Cb(1),o.Jc(e.paramValue)}}function re(e,t){if(1&e&&(o.Wb(0,"span"),o.Ic(1),o.Vb()),2&e){const e=o.gc(2).$implicit;o.Cb(1),o.Jc(e.typeName)}}function le(e,t){if(1&e){const e=o.Xb();o.Wb(0,"a",22),o.dc("click",function(){o.yc(e);const t=o.gc(2).$implicit;return o.gc(2).viewPType(t)}),o.Ic(1),o.Vb()}if(2&e){const e=o.gc(2).$implicit;o.Cb(1),o.Jc(e.typeName)}}function be(e,t){if(1&e&&(o.Wb(0,"td"),o.Gc(1,re,2,1,"span",1),o.Gc(2,le,2,1,"a",21),o.Vb()),2&e){const e=o.gc().$implicit;o.Cb(1),o.oc("ngIf",!e.hasPiList),o.Cb(1),o.oc("ngIf",e.hasPiList)}}function se(e,t){if(1&e&&(o.Wb(0,"tr"),o.Wb(1,"td"),o.Wb(2,"span"),o.Ic(3),o.Vb(),o.Vb(),o.Gc(4,ae,2,1,"td",19),o.Wb(5,"td"),o.Wb(6,"span"),o.Ic(7),o.Vb(),o.Vb(),o.Gc(8,be,3,2,"td",1),o.Rb(9,"td"),o.Vb()),2&e){const e=t.$implicit,n=o.gc(2);o.Cb(3),o.Jc(e.name),o.Cb(1),o.oc("ngIf",n.ptype.isEnum),o.Cb(3),o.Jc(e.summary),o.Cb(1),o.oc("ngIf",!n.ptype.isEnum)}}function de(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div"),o.Wb(1,"div"),o.Wb(2,"div",2),o.Wb(3,"div",3),o.Wb(4,"div",4),o.Wb(5,"label",5),o.Ic(6),o.Vb(),o.Wb(7,"a",6),o.Ic(8,"View Ts"),o.Vb(),o.Vb(),o.Gc(9,ie,3,1,"div",7),o.Vb(),o.Wb(10,"div",8),o.Wb(11,"a",9),o.dc("click",function(){return o.yc(e),o.gc().goback()}),o.Ic(12,"Return"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(13,"div",10),o.Wb(14,"nz-table",11,12),o.Wb(16,"thead"),o.Wb(17,"tr"),o.Wb(18,"th",13),o.Ic(19,"Name"),o.Vb(),o.Gc(20,ce,2,2,"th",14),o.Wb(21,"th",15),o.Ic(22,"Summary"),o.Vb(),o.Gc(23,oe,2,2,"th",14),o.Rb(24,"th"),o.Vb(),o.Vb(),o.Wb(25,"tbody"),o.Gc(26,se,10,4,"tr",16),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.xc(15),t=o.gc();o.Cb(6),o.Kc(" ",t.ptype.typeName," "),o.Cb(1),o.qc("routerLink","/workbench/tsviewer/ptype/",t.ptype.isIEnumerable?t.ptype.enumItemId:t.ptype.id,""),o.Cb(2),o.oc("ngIf",t.ptype.summary),o.Cb(5),o.oc("nzShowPagination",!1)("nzPageSize",1e3)("nzData",t.ptype.piList),o.Cb(4),o.oc("nzShowSort",!0)("nzSortFn",t.nameSortFn),o.Cb(2),o.oc("ngIf",t.ptype.isEnum),o.Cb(3),o.oc("ngIf",!t.ptype.isEnum),o.Cb(3),o.oc("ngForOf",e.data)}}let me=(()=>{class e{constructor(e,t){this.routerParams=e,this.apiSvc=t}ngOnInit(){this.routerParams.params.subscribe(e=>{this.ptypeId=e.ptypeId,this.getPType()})}getPType(){this.apiSvc.getPType(this.ptypeId).subscribe(e=>{this.ptype=e,N.a.setTitle(e.typeName+" - Api Helper")})}viewPType(e){N.a.goTo("/workbench/ptype/"+(e.isIEnumerable?e.enumItemId:e.typeId),{replaceUrl:!0}),history.pushState(null,null,location.href)}nameSortFn(e,t,n){return e.name.localeCompare(t.name)}valueSortFn(e,t,n){return e.paramValue-t.paramValue}typeSortFn(e,t,n){return e.typeName.localeCompare(t.typeName)}goback(){history.back()}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(i.a),o.Qb(a.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-ptype"]],decls:2,vars:1,consts:[[2,"padding","20px 80px"],[4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","20",1,"p10"],[1,"lh40"],[1,"f-size30"],["nz-button","","nzType","primary","nzSize","small","nzGhost","",1,"ml50","w80",3,"routerLink"],["class","mt10",4,"ngIf"],["nz-col","","nzSpan","4",1,"h60","lh60","valign-bottom"],["nz-button","","nzType","primary","nzSize","small","nzGhost","",1,"ml50","w80",3,"click"],[1,"mt30"],["nzSize","small",3,"nzShowPagination","nzPageSize","nzData"],["piListTable",""],[1,"w240",3,"nzShowSort","nzSortFn"],["class","w240",3,"nzShowSort","nzSortFn",4,"ngIf"],[1,"wp30"],[4,"ngFor","ngForOf"],[1,"mt10"],[1,"f-size16"],["class","pl20",4,"ngIf"],[1,"pl20"],[3,"click",4,"ngIf"],[3,"click"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Gc(1,de,27,11,"div",1),o.Vb()),2&e&&(o.Cb(1),o.oc("ngIf",t.ptype))},directives:[l.o,r.c,r.a,z.a,i.h,u.a,V.b,V.g,V.h,V.a,V.f,V.e,V.d,l.n],styles:[""]}),e})();var ue=n("dEAy"),pe=n("JA5x"),he=n("oyxB");function ge(e,t){if(1&e&&(o.Wb(0,"div",18),o.Wb(1,"label",19),o.Ic(2),o.Vb(),o.Vb()),2&e){const e=o.gc(2);o.Cb(2),o.Jc(e.tsResult.summary)}}function fe(e,t){if(1&e){const e=o.Xb();o.Wb(0,"label",27),o.dc("ngModelChange",function(t){return o.yc(e),o.gc(3).isShowPageQueryModel=t})("ngModelChange",function(){return o.yc(e),o.gc(3).isShowPageQueryModelChanged()}),o.Ic(1," Show PageQueryModels"),o.Vb()}if(2&e){const e=o.gc(3);o.oc("ngModel",e.isShowPageQueryModel)}}function ze(e,t){if(1&e){const e=o.Xb();o.Wb(0,"tr",43),o.dc("click",function(){o.yc(e);const n=t.$implicit,i=t.index,c=o.gc().$implicit;return o.gc(4).selectPi(c,n,i)}),o.Wb(1,"td"),o.Ic(2),o.Vb(),o.Wb(3,"td"),o.Ic(4),o.Vb(),o.Wb(5,"td"),o.Ic(6),o.Vb(),o.Vb()}if(2&e){const e=t.$implicit;o.Eb(e.isSelected?"selected":""),o.Cb(2),o.Jc(e.name),o.Cb(2),o.Jc(e.tsType),o.Cb(2),o.Jc(e.summary)}}function Ve(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div",30),o.Wb(1,"div"),o.Wb(2,"div",31),o.Wb(3,"label",32),o.Ic(4),o.Vb(),o.Wb(5,"label",33),o.Ic(6),o.Vb(),o.Wb(7,"div",34),o.Wb(8,"a",35),o.dc("click",function(){o.yc(e);const n=t.$implicit;return o.gc(4).viewLambda(n)}),o.Ic(9,"\u5feb\u6377Lambda"),o.Vb(),o.Wb(10,"a",36),o.dc("click",function(){o.yc(e);const n=t.$implicit;return o.gc(4).viewModelCode(n)}),o.Ic(11,"Code"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(12,"div",37),o.dc("keyup",function(t){return o.yc(e),o.gc(4).onKeyUpHandler(t)})("keydown",function(t){return o.yc(e),o.gc(4).onKeyDownHandler(t)}),o.Wb(13,"nz-table",38,39),o.Wb(15,"thead"),o.Wb(16,"tr"),o.Wb(17,"th",40),o.Ic(18,"Name"),o.Vb(),o.Wb(19,"th",41),o.Ic(20,"Type"),o.Vb(),o.Wb(21,"th"),o.Ic(22,"Summary"),o.Vb(),o.Vb(),o.Vb(),o.Wb(23,"tbody"),o.Gc(24,ze,7,6,"tr",42),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=t.$implicit,n=o.xc(14),i=o.gc(4);o.Cb(4),o.Kc(" ",e.name," "),o.Cb(1),o.pc("title",e.summary),o.Cb(1),o.Kc(" ",e.summary," "),o.Cb(7),o.oc("nzBordered",!0)("nzShowPagination",!1)("nzPageSize",1e3)("nzData",e.piList),o.Cb(4),o.oc("nzShowSort",!0)("nzSortFn",i.nameSortFn),o.Cb(2),o.oc("nzShowSort",!0)("nzSortFn",i.typeSortFn),o.Cb(5),o.oc("ngForOf",n.data)}}function Ce(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"nz-card",28),o.Gc(2,Ve,25,12,"div",29),o.Vb(),o.Vb()),2&e){const e=o.gc(3);o.Cb(2),o.oc("ngForOf",e.tsResult.tsModelList)}}function We(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"nz-card",44),o.Wb(2,"pre"),o.Ic(3),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.gc(3);o.Cb(3),o.Jc(e.isShowPageQueryModel?e.tsModelCodeWithPgQuery:e.tsModelCode)}}function ye(e,t){if(1&e){const e=o.Xb();o.Wb(0,"nz-tab",20),o.Wb(1,"div"),o.Wb(2,"div",7),o.Wb(3,"label",21),o.Ic(4,"Ts Models"),o.Vb(),o.Wb(5,"div",22),o.Wb(6,"nz-radio-group",23),o.dc("ngModelChange",function(t){return o.yc(e),o.gc(2).tsModelViewType=t})("ngModelChange",function(){return o.yc(e),o.gc(2).modelViewTypeChanged()}),o.Wb(7,"label",24),o.Ic(8,"TableView"),o.Vb(),o.Wb(9,"label",25),o.Ic(10,"CodeView"),o.Vb(),o.Vb(),o.Gc(11,fe,2,1,"label",26),o.Vb(),o.Vb(),o.Wb(12,"div"),o.Gc(13,Ce,3,1,"div",1),o.Gc(14,We,4,1,"div",1),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.gc(2);o.Cb(6),o.oc("ngModel",e.tsModelViewType),o.Cb(5),o.oc("ngIf","2"==e.tsModelViewType),o.Cb(2),o.oc("ngIf","1"==e.tsModelViewType),o.Cb(1),o.oc("ngIf","2"==e.tsModelViewType)}}function Se(e,t){if(1&e){const e=o.Xb();o.Wb(0,"nz-tab",45),o.Wb(1,"div"),o.Wb(2,"div",7),o.Wb(3,"label",21),o.Ic(4,"Ts Services"),o.Vb(),o.Wb(5,"div",22),o.Wb(6,"nz-radio-group",23),o.dc("ngModelChange",function(t){return o.yc(e),o.gc(2).tsServiceType=t})("ngModelChange",function(){return o.yc(e),o.gc(2).tsServiceTypeChanged()}),o.Wb(7,"label",24),o.Ic(8,"Jc"),o.Vb(),o.Wb(9,"label",25),o.Ic(10,"Common"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(11,"div"),o.Wb(12,"nz-card",44),o.Wb(13,"pre"),o.Ic(14),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.gc(2);o.Cb(6),o.oc("ngModel",e.tsServiceType),o.Cb(8),o.Jc("1"==e.tsServiceType?e.tsResult.tsService.jcCode:e.tsResult.tsService.commonCode)}}function Ie(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div"),o.Wb(1,"div"),o.Wb(2,"div",5),o.Wb(3,"div",6),o.Wb(4,"div",7),o.Wb(5,"label",8),o.Ic(6),o.hc(7,"titlecase"),o.Wb(8,"span",9),o.Ic(9),o.Vb(),o.Vb(),o.Vb(),o.Gc(10,ge,3,1,"div",10),o.Vb(),o.Wb(11,"div",11),o.Wb(12,"a",12),o.dc("click",function(){return o.yc(e),o.gc().goback()}),o.Ic(13,"Return"),o.Vb(),o.Vb(),o.Vb(),o.Wb(14,"div"),o.Wb(15,"nz-card",13),o.Wb(16,"nz-tabset",14),o.Gc(17,ye,15,4,"nz-tab",15),o.Gc(18,Se,15,2,"nz-tab",16),o.Vb(),o.Wb(19,"div"),o.Wb(20,"label",17),o.Ic(21,"Not all code is useful, the generated code is for reference only"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.gc();o.Cb(6),o.Kc(" Ts For ",o.ic(7,6,e.itemType)," "),o.Cb(3),o.Jc(null==e.tsResult?null:e.tsResult.name),o.Cb(1),o.oc("ngIf",null==e.tsResult?null:e.tsResult.summary),o.Cb(6),o.oc("nzAnimated",!1),o.Cb(1),o.oc("ngIf",(null==e.tsResult?null:e.tsResult.tsModelList)&&e.tsResult.tsModelList.length>0),o.Cb(1),o.oc("ngIf",null==e.tsResult?null:e.tsResult.tsService)}}const ve=[{path:"",component:c.a,children:[{path:"",redirectTo:"/workbench/index",pathMatch:"full"},{path:"action/:actionId",component:ne},{path:"ptype/:ptypeId",component:me},{path:"tsviewer/:itemType/:itemId",component:(()=>{class e{constructor(e,t){this.routerParams=e,this.apiSvc=t,this.tsServiceType="1",this.tsModelViewType="1",this.isShowPageQueryModel=!0,this.showCode=!1,this.isCtrlDown=!1,this.isShiftDown=!1;const n=localStorage.getItem("tsServiceType");this.tsServiceType=n||"1";const i=localStorage.getItem("tsModelViewType");this.tsModelViewType=i||"1","false"===localStorage.getItem("isShowPageQueryModel")&&(this.isShowPageQueryModel=!1)}ngOnInit(){this.itemId=this.routerParams.snapshot.paramMap.get("itemId"),this.itemType=this.routerParams.snapshot.paramMap.get("itemType"),this.itemId&&this.itemType&&this.getTsModel()}getTsModel(){this.apiSvc.getTs(this.itemId,this.itemType).subscribe(e=>{if(this.tsResult=e,e&&e.tsModelList){let t="",n="";e.tsModelList.forEach(e=>{t+=e.tsModelCode,n+=e.tsModelCode,n+=e.pgQueryModelCode}),this.tsModelCode=t,this.tsModelCodeWithPgQuery=n}})}selectPi(e,t,n){if(this.tsResult.tsModelList.forEach(t=>{t!==e&&t.piList.forEach(e=>{e.isSelected=!1})}),this.isCtrlDown||this.isShiftDown){if(this.isCtrlDown)t.isSelected=!t.isSelected;else if(this.isShiftDown){let i=-1,c=-1;if(e.piList.filter(e=>!0===e.isSelected).forEach(t=>{let n=e.piList.indexOf(t);(-1===i||i>n)&&(i=n),(-1===c||c<n)&&(c=n)}),-1===i)return void(t.isSelected=!t.isSelected);if(n===i||n===c)return void(t.isSelected=!t.isSelected);if(n<i)for(let t=n;t<=c;t++)e.piList[t].isSelected=!0;else if(n>c)for(let t=i;t<=n;t++)e.piList[t].isSelected=!0;else{for(let t=i;t<=n;t++)e.piList[t].isSelected=!0;for(let t=n+1;t<=c;t++)e.piList[t].isSelected=!1}}}else e.piList.filter(e=>!0===e.isSelected).forEach((e,n)=>{e!=t&&(e.isSelected=!1)}),t.isSelected=!t.isSelected}nameSortFn(e,t,n){return e.name.localeCompare(t.name)}valueSortFn(e,t,n){return e.paramValue-t.paramValue}typeSortFn(e,t,n){return e.typeName.localeCompare(t.typeName)}viewModelCode(e){this.tsCode=e.tsModelCode+e.pgQueryModelCode,this.codeTitle=e.name+" Code",this.showCode=!0}viewLambda(e){if(e.piList.filter(e=>e.isSelected).length<=0)return void N.a.showInfoBox("No record is selected.");let t=e.piList.filter(e=>e.isSelected),n="//1 SetValue \r\n";n+=e.name+" "+N.a.firstToLower(e.name)+" = new "+e.name+"();\r\n",t.forEach((t,i)=>{n+=N.a.firstToLower(e.name)+"."+N.a.firstToLower(t.name)+" = source."+N.a.firstToLower(t.name)+";\r\n"});let i="//2 Expression Lambda \r\n";1==t.length?i+="a => a."+t[0].name+"\r\n":(i+="var exp = ExpressionHelper.CreateExpression<"+e.name+">(a => new {\r\n",t.forEach((e,n)=>{i+="  a."+e.name,n<t.length-1&&(i+=","),i+="\r\n"}),i+="};\r\n");let c="//3 C# Ctor \r\n";c+=e.name+" "+N.a.firstToLower(e.name)+" = new "+e.name+"(){\r\n",t.forEach((e,n)=>{c+="  "+e.name+" = source."+e.name,n<t.length-1&&(c+=","),c+="\r\n"}),c+="};\r\n",this.tsCode=n+"\r\n"+i+"\r\n"+c,this.codeTitle=e.name+" Lambda",this.showCode=!0}closeModal(){this.showCode=!1}modelViewTypeChanged(){localStorage.setItem("tsModelViewType",this.tsModelViewType)}isShowPageQueryModelChanged(){localStorage.setItem("isShowPageQueryModel",this.isShowPageQueryModel.toString())}tsServiceTypeChanged(){localStorage.setItem("tsServiceType",this.tsServiceType)}onKeyDownHandler(e){switch(e.keyCode){case 16:this.isShiftDown=!0,e.preventDefault();break;case 17:this.isCtrlDown=!0,e.preventDefault();break;case 37:break;case 38:e.preventDefault();break;case 39:break;case 40:e.preventDefault()}}onKeyUpHandler(e){switch(e.keyCode){case 16:this.isShiftDown=!1,e.preventDefault();break;case 17:this.isCtrlDown=!1,e.preventDefault()}}goback(){history.back()}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(i.a),o.Qb(a.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["app-tsviewer"]],decls:8,vars:6,consts:[[2,"padding","20px 80px"],[4,"ngIf"],[3,"nzVisible","nzTitle","nzCancelText","nzWidth","nzVisibleChange","nzOnCancel","nzOnOk"],["nz-input","","spellcheck","false",1,"wp100","bgcolor-code","scrolly",2,"height","calc( 100vh - 320px)","border","none","box-shadow","none"],[1,"mt10","ml10","f-size12"],["nz-row",""],["nz-col","","nzSpan","20"],[1,"lh40"],[1,"f-size26"],[1,"color-lightblue"],["class","mt10",4,"ngIf"],["nz-col","","nzSpan","4",1,"h60","lh60","valign-bottom"],["nz-button","","nzType","primary","nzSize","small","nzGhost","",1,"ml50","w80",3,"click"],[1,"mt10","minh500"],["nzSize","large",3,"nzAnimated"],["nzTitle","Models",4,"ngIf"],["nzTitle","Services",4,"ngIf"],[1,"mt20","ml16","f-size12"],[1,"mt10"],[1,"f-size16"],["nzTitle","Models"],[1,"f-size18"],[1,"lineblock","ml80"],[3,"ngModel","ngModelChange"],["nz-radio","","nzValue","1"],["nz-radio","","nzValue","2"],["class","ml50","nz-checkbox","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-checkbox","",1,"ml50",3,"ngModel","ngModelChange"],["nzSize","small"],["class","mt10 mb20 pr56",4,"ngFor","ngForOf"],[1,"mt10","mb20","pr56"],[1,"pl5"],[1,"f-size16",2,"color","#1890ff"],[1,"ml10",2,"max-width","60%",3,"title"],[1,"pull-right","mr80"],["nz-button","","nzType","primary","nzSize","small","nzGhost","",1,"w100",3,"click"],["nz-button","","nzType","primary","nzSize","small","nzGhost","",1,"ml20","w80",3,"click"],["tabindex","1",3,"keyup","keydown"],["nzSize","small",1,"mt5","modelTable",3,"nzBordered","nzShowPagination","nzPageSize","nzData"],["tsModelTable",""],[1,"wp25",3,"nzShowSort","nzSortFn"],[1,"wp15",3,"nzShowSort","nzSortFn"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],["nzSize","small",1,"bgcolor-code"],["nzTitle","Services"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Gc(1,Ie,22,8,"div",1),o.Wb(2,"nz-modal",2),o.dc("nzVisibleChange",function(e){return t.showCode=e})("nzOnCancel",function(){return t.closeModal()})("nzOnOk",function(){return t.closeModal()}),o.Wb(3,"textarea",3),o.Ic(4),o.Vb(),o.Wb(5,"div"),o.Wb(6,"label",4),o.Ic(7,"Not all code is useful, the generated code is for reference only"),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Cb(1),o.oc("ngIf",t.itemId),o.Cb(1),o.oc("nzVisible",t.showCode)("nzTitle",t.codeTitle)("nzCancelText",null)("nzWidth",800),o.Cb(2),o.Jc(t.tsCode))},directives:[l.o,ue.a,p.b,r.c,r.a,z.a,u.a,pe.a,he.b,he.a,b.c,s.j,s.k,b.b,f.a,l.n,V.b,V.g,V.h,V.a,V.f,V.e,V.d],pipes:[l.y],styles:[".modelTable tbody>tr.selected,   .modelTable tbody>tr:hover{background-color:#e8f8fe}  .ant-modal-body{padding:12px 24px 5px}div[_ngcontent-%COMP%]::selection{background:transparent!important;color:inherit}div[_ngcontent-%COMP%]:focus{outline:0 auto -webkit-focus-ring-color;outline-style:auto;outline-width:0}"]}),e})(),data:{title:"Ts"}}]},{path:"index",component:O.a,children:[{path:"",component:x,data:{reuse:!0}}]}];let we=(()=>{class e{}return e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({factory:function(t){return new(t||e)},imports:[[i.i.forChild(ve)],i.i]}),e})();var Pe=n("PCNd"),Me=n("Tx//");let Te=(()=>{class e{}return e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({factory:function(t){return new(t||e)},providers:[a.a],imports:[[Pe.a,Me.a,we]]}),e})()}}]);